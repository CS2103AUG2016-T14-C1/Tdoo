# A0139920A
###### /docs/AboutUs.md
``` md
## Project Team

#### [OH HAN GYEOL](https://github.com/Leook0209)
<img src="images/han.jpg" width="150"><br>
* Role: Developer <br>
* Responsibilities: Documentation & Front-end (UI and Integration to JavaFX) wizard
* Components in charge of: [UI]() / [Storage]()
* Aspect/tools in charge of: Documentation, Git
* Features implemented:  
 * [Storage]()
 * [Ui]()
* Code written: [[stub entry]()]
* Other major contributions:
 * Application design
 * Undo and clear commands

-----

#### [CHIA WENBAO, JERICH](https://github.com/JerichChia) <br>
<img src="images/jerich.jpg" width="150"><br>
* Role: Developer <br>
* Responsibilities: Testing (jUnit) wizard
* Components in charge of: [Testing]()
* Aspect/tools in charge of: Testing, jUnit
* Features implemented:  
 * [stub entry]()
 * [stub entry]()
* Code written: [[stub entry]()]
* Other major contributions:
 * stub entry


-----

#### [CHEN JUNSHENG](https://github.com/jsfr0st)
<img src="images/junsheng.jpg" width="150"><br>
* Role: Developer <br>
* Responsibilities: Back-end wizard
* Components in charge of: [Back-end]()
* Aspect/tools in charge of:
* Features implemented:  
 * [Add]() - To Different Lists
 * [Undone]()
 * [Edit]()
* Code written: [[stub entry]()]
* Other major contributions:
 * Parser and string manipulation for Back-end


-----

#### [HAZMEI BIN ABDUL RAHMAN](https://github.com/hazmei)
<img src="images/hazmei.jpg" width="150"><br>
* Role: Developer <br>
* Responsibilities: Back-end wizard
* Components in charge of: [Back-end]()
* Aspect/tools in charge of:
* Features implemented:  
 * [Done]()
 * [Undo]()
 * [Edit]()
* Code written: [[stub entry]()]
* Other major contributions:
 * stub entry


-----

# Contributors

We welcome contributions. See [Contact Us](ContactUs.md) page for more info.

* [Akshay Narayan](https://github.com/se-edu/addressbook-level4/pulls?q=is%3Apr+author%3Aokkhoy)
* [Sam Yong](https://github.com/se-edu/addressbook-level4/pulls?q=is%3Apr+author%3Amauris)
```
###### /src/main/java/seedu/todoList/logic/parser/Parser.java
``` java
    private Command prepareDone(String args) {
        Optional<String> dataType = parseDataType(args);
        Optional<Integer> index = parseIndex(args);
        if (!dataType.isPresent() || !((dataType.get().equals("todo")) || (dataType.get().equals("event"))
                || (dataType.get().equals("deadline"))) || !index.isPresent()) {
            return new IncorrectCommand(String.format(MESSAGE_INVALID_COMMAND_FORMAT, DoneCommand.MESSAGE_USAGE));
        }

        return new DoneCommand(dataType.get(), index.get());
    }
    
    /**
     * Parses arguments in the context of the done task command.
     *
     * @param args
     *            full command args string
     * @return the prepared command
     */
```
###### /src/main/java/seedu/todoList/logic/commands/EditCommand.java
``` java
    public EditCommand(String name, String date, String endDate, String priority, int targetIndex, String dataType)
            throws IllegalValueException {
    	this.targetIndex = targetIndex;
    	this.dataType = dataType;
        this.toEdit = new Todo(
                new Name(name),
                new StartDate(date),
                new EndDate(endDate),
                new Priority(priority),
                "false"
        );
    }
    
    /**
     * Edit Event
     * Convenience constructor using raw values.
     * @throws IllegalValueException if any of the raw values are invalid
     */
```
###### /src/main/java/seedu/todoList/logic/commands/EditCommand.java
``` java
    public EditCommand(String name, String date, String endDate, String startTime, String endTime, int targetIndex, String dataType)
            throws IllegalValueException {
    	this.targetIndex = targetIndex;
    	this.dataType = dataType;
        this.toEdit = new Event(
                new Name(name),
                new StartDate(date),
                new EndDate(endDate),
                new StartTime(startTime),
                new EndTime(endTime),
                "false"
        );
    }
    
    /**
     * Edit Deadline
     * Convenience constructor using raw values.
     * @throws IllegalValueException if any of the raw values are invalid
     */
    public EditCommand(String name, String date, String endTime, int targetIndex, String dataType)
            throws IllegalValueException {
    	this.targetIndex = targetIndex;
    	this.dataType = dataType;
        this.toEdit = new Deadline(
                new Name(name),
                new StartDate(date),
                new EndTime(endTime),
                "false"
        );
    }
    
    /**
     * Constructor for undo
     */
```
###### /src/main/java/seedu/todoList/logic/commands/EditCommand.java
``` java
    public EditCommand(ReadOnlyTask original, String dataType, ReadOnlyTask toEdit) {
    	this.taskToEdit = original;
    	this.toEdit = (Task) toEdit;
    	this.targetIndex = -1;
    	this.dataType = dataType;
    }

```
###### /src/main/java/seedu/todoList/logic/commands/EditCommand.java
``` java
    @Override
    public CommandResult execute() {
    	if(this.taskToEdit == null && this.targetIndex != -1) {
	    	UnmodifiableObservableList<ReadOnlyTask> lastShownList = null;
	    	switch (dataType) {
	    		case "todo":
	    			lastShownList = model.getFilteredTodoList();
	    			break;
	    		case "event":
	    			lastShownList = model.getFilteredEventList();
	    			break;
	    		case "deadline":
	    			lastShownList = model.getFilteredDeadlineList();
	    	}
	        if (lastShownList.size() < targetIndex) {
	            indicateAttemptToExecuteIncorrectCommand();
	            return new CommandResult(Messages.MESSAGE_INVALID_TASK_DISPLAYED_INDEX);
	        }
	        
	        taskToEdit = lastShownList.get(targetIndex - 1);
    	}
        
        assert model != null;
        try {
            model.editTask(taskToEdit, dataType, toEdit);
            return new CommandResult(String.format(MESSAGE_EDIT_TASK_SUCCESS, toEdit));
        } catch (IllegalValueException ive) {
        	return new CommandResult(INVALID_VALUE);
        }catch (TaskNotFoundException pnfe) {
            return new CommandResult(MISSING_TASK);
        }
    }
}
```
###### /src/main/java/seedu/todoList/logic/commands/DoneCommand.java
``` java
    public DoneCommand(String dataType, int targetIndex) {
    	this.dataType = dataType;
        this.targetIndex = targetIndex;
    }

```
###### /src/main/java/seedu/todoList/logic/commands/DoneCommand.java
``` java
    @Override
    public CommandResult execute() {
    	
    	UnmodifiableObservableList<ReadOnlyTask> lastShownList = null;
    	switch (dataType) {
    		case "todo":
    			lastShownList = model.getFilteredTodoList();
    			break;
    		case "event":
    			lastShownList = model.getFilteredEventList();
    			break;
    		case "deadline":
    			lastShownList = model.getFilteredDeadlineList();
    	}
        if (lastShownList.size() < targetIndex) {
            indicateAttemptToExecuteIncorrectCommand();
            return new CommandResult(Messages.MESSAGE_INVALID_TASK_DISPLAYED_INDEX);
        }

        ReadOnlyTask taskToDone = lastShownList.get(targetIndex - 1);

        try {
            model.doneTask(taskToDone, dataType, targetIndex);
        } catch (TaskNotFoundException pnfe) {
            assert false : "The target task cannot be missing";
        }

        return new CommandResult(String.format(MESSAGE_DONE_TASK_SUCCESS, taskToDone));
    }

}
```
###### /src/main/java/seedu/todoList/model/task/Task.java
``` java
    public String getDone() {
    	return this.isDone;
    }
    
    public void setDone(String isDone) {
    	this.isDone = isDone;
    }
}
```
###### /src/main/java/seedu/todoList/model/task/attributes/Done.java
``` java
    public Done(String isDone) {
        this.isDone = isDone;
    }
}
```
###### /src/main/java/seedu/todoList/model/task/UniqueTaskList.java
``` java
    public boolean doneTask(ReadOnlyTask key) throws UniqueTaskList.TaskNotFoundException {
    	assert key != null;
    	final boolean taskUpdated = internalList.contains(key);
        if (taskUpdated) {
        	internalList.get(internalList.indexOf(key)).setDone("true");
        	internalList.set(internalList.indexOf(key), internalList.get(internalList.indexOf(key)));
            return taskUpdated;
        } else {
            throw new UniqueTaskList.TaskNotFoundException();
        }
    }
    
    /**
     * Marks the equivalent task as undone.
     *
     * @throws TaskNotFoundException if no such task could be found in the list.
     */
    public boolean undoneTask(ReadOnlyTask key) throws UniqueTaskList.TaskNotFoundException {
        assert key != null;
        final boolean taskUpdated = internalList.contains(key);
        if (taskUpdated) {
            internalList.get(internalList.indexOf(key)).setDone("false");
            internalList.set(internalList.indexOf(key), internalList.get(internalList.indexOf(key)));
            return taskUpdated;
        } else {
            throw new UniqueTaskList.TaskNotFoundException();
        }
    }
}
```
###### /src/main/java/seedu/todoList/model/TaskList.java
``` java
    public boolean doneTask(ReadOnlyTask target) throws UniqueTaskList.TaskNotFoundException {
    	if(tasks.doneTask(target)){
    		return true;
    	} else {
    		throw new UniqueTaskList.TaskNotFoundException();
    	}
    }
    
    public boolean undoneTask(ReadOnlyTask target) throws UniqueTaskList.TaskNotFoundException {
        if(tasks.undoneTask(target)){
            return true;
        } else {
            throw new UniqueTaskList.TaskNotFoundException();
        }
    }
//// util methods

    @Override
    public String toString() {
        return tasks.getInternalList().size() + " tasks";
        // TODO: refine later
    }

    @Override
    public List<ReadOnlyTask> getTaskList() {
        return Collections.unmodifiableList(tasks.getInternalList());
    }

    @Override
    public UniqueTaskList getUniqueTaskList() {
        return this.tasks;
    }

    @Override
    public boolean equals(Object other) {
        return other == this // short circuit if same object
                || (other instanceof TaskList // instanceof handles nulls
                && this.tasks.equals(((TaskList) other).tasks));
    }

}
```
###### /src/main/java/seedu/todoList/model/Undoer.java
``` java
	public void prepareUndoDone(String dataType, int index) {
		undoStack.push(new UndoneCommand(dataType,index));
	}
	
	public void executeUndo() {
		Command undoCommand = undoStack.pop();
    	undoCommand.setData(model, null);
    	undoCommand.execute();
	}
}
```
###### /src/main/java/seedu/todoList/model/ModelManager.java
``` java
    @Override
    public synchronized void doneTask(ReadOnlyTask target, String dataType, int undoTarget) throws TaskNotFoundException {
    	switch(dataType) {
    		case "todo":
    			todoList.doneTask(target);
    			indicateTodoListChanged();
    			undoer.prepareUndoDone("todo", undoTarget);
    		case "event":
    			eventList.doneTask(target);
    			indicateEventListChanged();
    			undoer.prepareUndoDone("event", undoTarget);
    		case "deadline":
    			deadlineList.doneTask(target);
    			indicateDeadlineListChanged();
    			undoer.prepareUndoDone("deadline", undoTarget);
    	}
    }
    
    @Override
```
###### /README.md
``` md
[![Build Status](https://travis-ci.org/CS2103AUG2016-T14-C1/main.svg?branch=master)](https://travis-ci.org/CS2103AUG2016-T14-C1/main)
[![Coverage Status](https://coveralls.io/repos/github/CS2103AUG2016-T14-C1/main/badge.svg?branch=master)](https://coveralls.io/github/CS2103AUG2016-T14-C1/main?branch=master)

# Tdoo

```
